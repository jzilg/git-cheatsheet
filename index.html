<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Git Cheatsheet</title>
    <link rel="icon" type="image/x-icon" href="git.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container">
        <h1>Git Cheatsheet</h1>
        <ul id="toc"></ul>
        <hr>
        <article>
            <h2>revert last commit</h2>
            <code>
                git reset HEAD~
            </code>
        </article>
        <hr>
        <article>
            <h2>local overrides</h2>
            <h3>overwrite the complete local history of the current branch from its remote</h3>
            <code>
                git reset --hard origin/&lt;current-branch&gt;
            </code>
            <h3>reset the current-branch to remote HEAD</h3>
            <p>(equivalent to deleting and recreating the current branch)</p>
            <code>
                git reset --hard origin/main
            </code>
        </article>
        <hr>
        <article>
            <h2>branch</h2>
            <h3>show all</h3>
            <code>
                git branch
            </code>
            <h3>create and switch to new</h3>
            <code>
                git checkout -b &lt;name&gt;
            </code>
            <h3>switch back to the previous local branch you've been working on</h3>
            <code>
                git checkout -
            </code>
            <h3>rename</h3>
            <code>
                git branch -m &lt;oldName&gt; &lt;newName&gt;
            </code>
            <h3>delete</h3>
            <code>
                git branch -d &lt;name&gt;
            </code>
            <h3>add branch to upstream repository</h3>
            <code>
                git push --set-upstream origin &lt;name&gt;
            </code>
        </article>
        <hr>
        <article>
            <h2>stage all changes</h2>
            <code>
                git add .
            </code>
        </article>
        <hr>
        <article>
            <h2>unstage all changes</h2>
            <code>
                git reset .
            </code>
        </article>
        <hr>
        <article>
            <h2>stash</h2>
            <h3>save</h3>
            <code>
                git stash
            </code>
            <h3>what is stashed?</h3>
            <code>
                git stash list
            </code>
            <h3>delete</h3>
            <code>
                git stash drop
            </code>
            <h3>release</h3>
            <code>
                git stash pop
            </code>
        </article>
        <hr>
        <article>
            <h2>rebase</h2>
            <p>
                <i>(while on target branch)</i>
            </p>
            <code>
                git rebase develop
            </code>
            <p>
                <i>if you want to push to existing repository, force is needed</i>
            </p>
            <code>
                git push --force
            </code>
        </article>
        <hr>
        <article>
            <h2>undo all uncommited chages</h2>
            <code>
                git checkout .
            </code>
        </article>
        <hr>
        <article>
            <h2>restore deleted file</h2>
            <code>
                git checkout HEAD &lt;file&gt;
            </code>
        </article>
        <hr>
        <article>
            <h2>redo last commit with new added files and rename it</h2>
            <code>
                git commit --amend
            </code>
        </article>
        <article>
            <h2>soft reset</h2>
            <h3>remove last commit by keeping all changes staged</h3>
            <code>
                git reset --soft HEAD~1
            </code>
            <h3>remove last "n" commits by keeping all changes staged</h3>
            <p>(e.g. n = 4) </p>
            <code>
                git reset --soft HEAD~4
            </code>
        </article>
        <article>
            <h2>delete all untracked files and directories</h2>
            <code>
                git clean -di
            </code>
        </article>
        <hr>
        <article>
            <h2>delete all local branches, if there are deleted origin</h2>
            <code>
                git remote prune origin
            </code>
            <code>
                git gc
            </code>
        </article>
        <article>
            <h2>delete all local tags, if there are deleted origin</h2>
            <code>
                git tag -l | xargs git tag -d
            </code>
            <code>
                git fetch --tags
            </code>
        </article>
        <hr>
        <article>
            <h2>rename tag local and origin</h2>
            <code>
                git tag &lt;newName&gt; &lt;oldName&gt;
            </code>
            <code>
                git tag -d &lt;oldName&gt;
            </code>
            <code>
                git push origin :refs/tags/&lt;oldName&gt;
            </code>
            <code>
                git push --tags
            </code>
        </article>
    </main>
    <script src="table-of-content.js"></script>
    <script>
        const codeBlocks = document.querySelectorAll('code')
        const copyToClipboard = (text) => {
            window.navigator.clipboard.writeText(text)
        }

        codeBlocks.forEach((codeBlock) => {
            codeBlock.addEventListener('click', (event) => copyToClipboard(event.target.innerText))
        })
    </script>
</body>
</html>
